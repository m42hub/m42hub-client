<p-card class="w-full custom-card-bg">
  <ng-template pTemplate="header">
    <div class="p-4 space-y-4">
      <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4">
        <h1 class="text-2xl sm:text-3xl font-bold text-700 dark:text-surface-0 break-words flex-1">
          {{ project.name }}
        </h1>
        <div class="flex items-center gap-2">
          <p-tag
            *ngIf="project.status"
            [value]="project.status.name"
            severity="info"
            class="w-fit"
          ></p-tag>
          <button
            *ngIf="isUserManager"
            pButton
            type="button"
            label="Editar"
            icon="pi pi-pencil"
            size="small"
            class="p-button-outlined p-button-primary"
            (click)="onEditProject()"
          ></button>
        </div>
      </div>

      <div
        class="pl-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 text-sm text-600 dark:text-surface-200"
      >
        <div class="flex items-center gap-2">
          <i class="pi pi-calendar text-primary flex-shrink-0"></i>
          <span class="truncate">Criado em: {{ creationDateFormatado }}</span>
        </div>
        <div class="flex items-center gap-2" *ngIf="project.startDate">
          <i class="pi pi-play text-primary flex-shrink-0"></i>
          <span class="truncate">Início: {{ startDateFormatado }}</span>
        </div>
        <div class="flex items-center gap-2" *ngIf="project.endDate">
          <i class="pi pi-flag text-primary flex-shrink-0"></i>
          <span class="truncate">Previsão: {{ endDateFormatado }}</span>
        </div>
      </div>
    </div>

    <div class="px-4 space-y-4">
      <div *ngIf="tools.length > 0" class="space-y-2">
        <h4 class="text-xs font-bold text-800 dark:text-surface-0 uppercase tracking-wide">
          Tecnologias/Ferramentas
        </h4>
        <div class="flex flex-wrap gap-2">
          <p-tag
            *ngFor="let tag of tools"
            [value]="tag.name"
            [style]="{ 'background-color': tag.hexColor, color: 'white' }"
            tooltipPosition="top"
            class="text-xs"
          ></p-tag>
        </div>
      </div>

      <div *ngIf="topics.length > 0" class="space-y-2">
        <h4 class="text-xs font-bold text-800 dark:text-surface-0 uppercase tracking-wide">
          Assuntos/Temas
        </h4>
        <div class="flex flex-wrap gap-2">
          <p-tag
            *ngFor="let tag of topics"
            [value]="tag.name"
            [style]="{ 'background-color': tag.hexColor, color: 'white' }"
            tooltipPosition="top"
            class="text-xs"
          ></p-tag>
        </div>
      </div>

      <div *ngIf="generalTags.length > 0" class="space-y-2">
        <h4 class="text-xs font-bold text-800 dark:text-surface-0 uppercase tracking-wide">
          Informações
        </h4>
        <div class="flex flex-wrap gap-2">
          <p-tag
            *ngFor="let tag of generalTags"
            [value]="tag.name"
            [severity]="tag.type === 'tempoEstimado' ? 'info' : 'secondary'"
            [pTooltip]="tag.tooltipLabel"
            tooltipPosition="top"
            tooltipStyleClass="text-xs"
            class="text-xs cursor-help"
          ></p-tag>
        </div>
      </div>
    </div>
  </ng-template>

  <div class="mb-4">
    <app-social-media-card
      [discord]="project.discord"
      [github]="project.github"
      [personalWebsite]="project.projectWebsite"
      [useOfficialColors]="true"
      class="w-full"
    ></app-social-media-card>
  </div>

  <ng-template pTemplate="content">
    <div class="px-4">
      <div
        class="prose prose-sm sm:prose-base lg:prose-lg max-w-none overflow-x-auto"
        [innerHTML]="descriptionHtml"
      ></div>
    </div>
  </ng-template>
</p-card>
